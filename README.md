# amocrmproxy
![Go Version](https://img.shields.io/badge/go%20version-%3E=1.24-61CFDD.svg?style=flat-square)

–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ —è–∑—ã–∫–µ Go, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–µ–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –º–µ–∂–¥—É –ê–¢–° –∏ CRM-—Å–∏—Å—Ç–µ–º–æ–π [amoCRM](https://www.amocrm.ru/).  
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—ã—Å—Ç—É–ø–∞–µ—Ç –≤ —Ä–æ–ª–∏ **–ø—Ä–æ–∫—Å–∏**, –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—â–µ–≥–æ —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –∑–∞–ø—Ä–æ—Å—ã –æ—Ç –ê–¢–° –≤ —Ñ–æ—Ä–º–∞—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ API amoCRM.  
–í –¥–∞–ª—å–Ω–µ–π—à–µ–º —á–µ—Ä–µ–∑ –Ω–µ–≥–æ –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–µ—Ä–µ–¥–∞—á–∞ –∫–æ–¥–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è amoCRM –≤–Ω—É—Ç—Ä–∏ –ê–¢–°.

---

## üìñ –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–ø–∏—Å–∞–Ω–∏–µ](#–æ–ø–∏—Å–∞–Ω–∏–µ)
- [–°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π](#—Å—Ç–µ–∫-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π)
- [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
    - [`config.json`](#configjson)
    - [`.env`](#env)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–∑–∞–ø—É—Å–∫)
    - [–ß–µ—Ä–µ–∑ Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)](#—á–µ—Ä–µ–∑-docker-—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
    - [–õ–æ–∫–∞–ª—å–Ω–æ (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)](#–ª–æ–∫–∞–ª—å–Ω–æ-–¥–ª—è-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- [–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ](#–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)

---

## üìù –û–ø–∏—Å–∞–Ω–∏–µ

**amocrmproxy** –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å –≤—Ö–æ–¥—è—â–∏–µ HTTP-–∑–∞–ø—Ä–æ—Å—ã –æ—Ç –ê–¢–° –≤ —Ñ–æ—Ä–º–∞—Ç, –ø–æ–Ω—è—Ç–Ω—ã–π –∞–∫—Ç—É–∞–ª—å–Ω–æ–º—É API amoCRM.
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞.
- –í –±—É–¥—É—â–µ–º ‚Äî –æ–±–º–µ–Ω–∏–≤–∞—Ç—å—Å—è –∫–æ–¥–∞–º–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ CRM –≤–Ω—É—Ç—Ä–∏ –ê–¢–°.

---

## ‚öíÔ∏è –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- –Ø–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è: **Go**
- –§–æ—Ä–º–∞—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏: **JSON**
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è: **.env**
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è: **Docker**

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### `config.json`

```json
{
  "server": {
    "host": "0.0.0.0",
    "port": 8089,
    "request_timeout": "10s"
  },
  "rtu": {
    "host": "rtu.amocrm.ru"
  },
  "amo_crm": {
    "service_code": "–∫–æ–¥_–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏"
  },
  "email": {
    "host": "smtp.example.com",
    "port": 465,
    "login": "user@example.com",
    "password": "your_password",
    "recipient": "admin@example.com"
  }
}
```

> –ü–æ–ª–µ `"service_code"` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ –¥–∞—à–±–æ—Ä–¥–µ –æ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ amoCRM.

### `.env`

```env
LOG_PATH=/var/log/amocrmproxy
```

> ‚ö†Ô∏è –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É–∫–∞–∑–∞–Ω–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –∑–∞–ø–∏—Å–∏.

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –ß–µ—Ä–µ–∑ Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

```bash
git clone https://github.com/crafty-ezhik/amocrmproxy.git
cd amocrmproxy
```

2. –°–æ–∑–¥–∞–π—Ç–µ `.env` –∏ `config.json` –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞.

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:

```bash
docker compose up --build -d
```

### –õ–æ–∫–∞–ª—å–Ω–æ (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

```bash
go mod download
go run main.go
```

---

## ‚úèÔ∏è –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –ª–æ–≥–∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é, —É–∫–∞–∑–∞–Ω–Ω—É—é –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è `LOG_PATH`.  

---


## ¬©Ô∏è –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π [MIT License](LICENSE)

---